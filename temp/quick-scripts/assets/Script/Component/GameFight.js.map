{"version":3,"sources":["GameFight.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/Script/Component","sourcesContent":["import BaseComponent from \"./Base/BaseComponent\";\nimport { RES } from \"../resource\";\nimport { Common, PANEL_SIZE } from \"../Module/Common\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class GameFight extends BaseComponent {\n    _nResLen : number;\n    _nCurLen : number;\n    _nRow : number;\n    _nCol : number;\n    @property(cc.Node)\n    PanelNode : cc.Node = null;\n\n    onLoad () : void {\n        let self = this;\n        if (self._isLogicNode()) {\n            self._logicComponentName = self.getObjectName();\n        }\n        super.onLoad();\n        //一排四个,三排\n        self._nRow = 4;\n        self._nCol = 3;\n        self._nCurLen = 0;\n    }\n\n    _initUI () : void {\n        let self = this;\n        let res = self._client.fGetResData().res;\n            self._nResLen = RES.getJsonLength(res);\n            for (let i in res) {\n                RES.loadRes(res[i], self.fCallback, self);\n            }\n    }\n\n    fCallback (data, target) : void {\n        let self = target;\n        self._nCurLen ++;\n        if (self._nResLen == self._nCurLen) {\n            self.fAddChunk();\n        }\n    }\n\n    fAddChunk () : void {\n        let self = this;\n        for(let j = 1; j < 4; j ++) {\n            //随机黑块的下标\n            let black = Common.fGetRandom(0, 3);\n            for (let i = 0; i < self._nRow; i ++) {\n                let oData : any = {};\n                oData = {\n                    x : PANEL_SIZE.WIDTH * i + 1,\n                    y : PANEL_SIZE.HEIGHT * j + 1\n                };\n                if (black == i) {\n                    oData[\"isBlack\"] = true;\n                }\n                let panel = RES.fGetRes(\"Panel\");\n                self.PanelNode.addChild(panel);\n                panel.getComponent(\"Panel\").fSetUnitData(oData);\n                cc.log(oData);\n            }\n        }\n    }\n\n\n\n}\n"]}